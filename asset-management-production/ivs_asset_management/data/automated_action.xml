<!--<odoo>-->
<!--    <record model="base.automation" id="set_location_company_on_parent_changed">-->
<!--        <field name="name">Set Location Company on Parent changed</field>-->
<!--        <field name="active">True</field>-->
<!--        <field name="model_id" ref="ivs_asset_management.model_asset_location"/>-->
<!--        <field name="state">code</field>-->
<!--        <field name="trigger">on_write</field>-->
<!--        <field name="code">-->
<!--            record.sudo()._onchange_parent_location()-->
<!--        </field>-->
<!--        <field name="trigger_field_ids" eval="[(4,ref('ivs_asset_management.field_asset_location__company_id'))]"/>-->
<!--    </record>-->
<!--</odoo>-->
<odoo>

    <record id="action_set_location_company_on_parent_changed" model="ir.actions.server">
        <field name="name">Set Location Company on Parent changed</field>
        <field name="model_id" ref="ivs_asset_management.model_asset_location"/>
        <field name="state">code</field>
        <field name="code">
record.sudo()._onchange_parent_location()
        </field>
    </record>

    <record model="base.automation" id="set_location_company_on_parent_changed">
        <field name="name">Set Location Company on Parent changed</field>
        <field name="active" eval="True"/>
        <field name="model_id" ref="ivs_asset_management.model_asset_location"/>
        <field name="trigger">on_write</field>
        <field name="trigger_field_ids"
               eval="[(4, ref('ivs_asset_management.field_asset_location__company_id'))]"/>
        <field name="action_server_ids"
               eval="[(4, ref('ivs_asset_management.action_set_location_company_on_parent_changed'))]"/>
    </record>

</odoo>
