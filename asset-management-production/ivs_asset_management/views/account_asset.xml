<odoo>
    <record id="view_account_asset_form_inherit" model="ir.ui.view">
        <field name="name">view.account.asset.form.inherit</field>
        <field name="model">account.asset</field>
        <field name="inherit_id" ref="account_asset.view_account_asset_form"/>
        <field name="arch" type="xml">

            <xpath expr="//button[@name='validate']" position="before">
                <button name="action_asset_move" type="object" string="Move Asset" class="oe_highlight"
                        states="open"
                        groups="ivs_asset_management.asset_move_access_group"/>
                <button name="action_print_asset" type="object" string="Print QR"
                        attrs="{'invisible':[('print_qr','=',False)]}"/>
            </xpath>
            <xpath expr="//h1" position="after">
                <div attrs="{'invisible':[('state','=','model')]}">
                    <h2>
                        <field name="asset_code" readonly="1"/>
                    </h2>
                </div>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]" position="before">
                <field name="image_1920" widget="image" class="oe_avatar"
                       options="{'preview_image': 'image_1920'}"
                       attrs="{'invisible':[('state','=','model')]}"/>
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page string="Asset Details">
                    <group>
                        <field name="description"/>
                        <field name="responsible_id"/>
                        <field name="have_model_class" invisible="1"/>
                        <field name="required_location" invisible="1"/>
                        <field name="print_qr" invisible="1"/>
                        <field name="asset_class_id"
                               attrs="{'readonly':['|',('have_model_class','=',True),('state','=','open')],'required':[('state','!=','model')]}"/>
                        <field name="location_id"
                               attrs="{'required':[('required_location','=',True)],'readonly':[('state','!=','draft')]}"/>
                    </group>
                </page>
            </xpath>
            <xpath expr="//field[@name='prorata_computation_type']" position="after">
                <field name="model_class_id"/>
            </xpath>

        </field>
    </record>

    <record id="view_account_asset_search_inherit" model="ir.ui.view">
        <field name="name">asset.search.inherit</field>
        <field name="model">account.asset</field>
        <field name="inherit_id" ref="account_asset.view_account_asset_search"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="filter_domain">
                    ['|',('name', 'ilike', self),('asset_code', 'ilike', self)]
                </attribute>
            </xpath>
            <xpath expr="//group" position="inside">
                <filter string="Asset Class" name="asset_class" domain="[]" context="{'group_by':'asset_class_id'}"/>
                <filter string="Asset Location" name="asset_location" domain="[]" context="{'group_by':'location_id'}"/>
                <filter string="Asset Responsible" name="asset_responsible" domain="[]"
                        context="{'group_by':'responsible_id'}"/>
            </xpath>
        </field>
    </record>

    <record id="view_account_asset_purchase_tree_inherit" model="ir.ui.view">
        <field name="name">account.asset.tree.inherit</field>
        <field name="model">account.asset</field>
        <field name="inherit_id" ref="account_asset.view_account_asset_purchase_tree"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='name']" position="after">
                <field name="asset_code"/>
                <field name="responsible_id" optional="hide"/>
                <field name="asset_class_id" optional="hide"/>
                <field name="location_id" optional="hide"/>
            </xpath>

        </field>
    </record>

    <record id="model_account_asset_action_confirm" model="ir.actions.server">
        <field name="name">Confirm</field>
        <field name="model_id" ref="ivs_asset_management.model_account_asset"/>
        <field name="binding_model_id" ref="ivs_asset_management.model_account_asset"/>
        <field name="binding_view_types">tree</field>
        <field name="state">code</field>
        <field name="code">action = records.action_validate()</field>
    </record>

    <record id="model_account_asset_action_print" model="ir.actions.server">
        <field name="name">Print QR</field>
        <field name="model_id" ref="ivs_asset_management.model_account_asset"/>
        <field name="binding_model_id" ref="ivs_asset_management.model_account_asset"/>
        <field name="binding_view_types">tree</field>
        <field name="state">code</field>
        <field name="code">action = records.action_print_asset()</field>
    </record>

</odoo>